{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,2FAQMC,GAFQC,SAASC,cAAc,wBAEbD,SAASC,cAAc,oBAEzCC,GADaF,SAASC,cAAc,gBACtBD,SAASC,cAAc,oBAEvCE,EAAe,GACbC,EAAkB,WACtB,IAAMC,EAAqBC,aAAaC,QAAQ,oBAChD,OAAOC,KAAKC,MAAMJ,E,WAeLK,I,OAAAC,EAAsBC,MAAAC,KAAAC,U,UAAtBH,I,OAAAA,EAAfI,EAAAlB,EAAA,CAAAkB,EAAAC,GAAAC,MAAA,SAAAC,I,IAGQC,EAGAC,EAEAC,E,yEAPNtB,EAAgBuB,UAAY,GAEtBH,EAAgBf,IAAkBmB,KAAI,SAAAC,GAC1C,OAAOC,EAAAC,QAAUC,yBAAyBH,E,aAErBI,QAAQC,IAAIV,G,OAA7BC,EAAQU,EAAAC,KAERV,EAASD,EAASG,KAAI,SAAAS,G,OAASA,EAANC,M,IAAqBC,KAAK,GACzDnC,WAAiBoC,mBACf,aACAC,EAAAV,QAAWW,aAAahB,I,4CAXST,MAAAC,KAAAC,U,CAbjCV,MACFD,EAAgBY,EAAAuB,EAAA,CAAGlC,KAEnBM,EAAuBN,MAMpBA,KAAkD,IAA7BA,IAAkBmC,QAC1CrC,EAAYiC,mBAAmB,aAJvB,uFA4CVpC,WAAiByC,iBAAiB,SAtBf,SAAAC,GACa,WAA1BA,EAAMC,OAAOC,WAGc,gBAA3BF,EAAMC,OAAOE,YACf,EAAAC,EAAAC,gBAAeL,GAEc,eAA3BA,EAAMC,OAAOE,YACLtC,aAAaC,QAAQwC,EAAAC,KAAKC,kBAC9BC,SAASC,OAAOV,EAAMC,OAAOU,MACjCjD,EAAakD,OAAOlD,EAAamD,QAAQH,OAAOV,EAAMC,OAAOU,KAAM,GACnE9C,aAAaiD,QAAQ,mBAAoB/C,KAAKgD,UAAUrD,IACxDsD,QAAQC,IAAIjB,EAAMC,OAAOU,IAEzB1C,OAEA,EAAAiD,EAAAC,UAAST,OAAOV,EAAMC,OAAOU,KAC7B1C,M","sources":["src/js/localStorege/localStoregeCoctais.js"],"sourcesContent":["import fetchData from '../fetch';\nimport renderFunc from '../renderFunc';\nimport { onGalleryClick } from '../modal-cocktails';\nimport { keys } from '../localStorege/localStoregeKeys';\nimport { getSetLS } from './localStoregeaAddRemowe';\n\nconst modal = document.querySelector('.coctail-info-modal ');\n\nconst favCoctailsList = document.querySelector('.coctails__list');\nconst buttonMore = document.querySelector('.button-more');\nconst soryCoctail = document.querySelector('.coctails-sorry');\n\nlet drinksObject = [];\nconst getLocalStorege = () => {\n  const savedCoctaisGalery = localStorage.getItem('Favorit Coctails');\n  return JSON.parse(savedCoctaisGalery);\n};\nif (getLocalStorege()) {\n  drinksObject = [...getLocalStorege()];\n\n  renderFavoriteCoctails(getLocalStorege());\n}\nfunction emptyCoctails() {\n  return `<p class=\"sorry__title-coctails \">You haven't added any favorite cocktails yet</p>`;\n}\n\nif (!getLocalStorege() || getLocalStorege().length === 0) {\n  soryCoctail.insertAdjacentHTML('afterbegin', emptyCoctails());\n}\n\nasync function renderFavoriteCoctails() {\n  favCoctailsList.innerHTML = '';\n\n  const getFotoByLSID = getLocalStorege().map(num => {\n    return fetchData.fetchCocktailDetailsById(num);\n  });\n  const response = await Promise.all(getFotoByLSID);\n\n  const result = response.map(({ drinks }) => drinks).flat(1);\n  favCoctailsList?.insertAdjacentHTML(\n    'afterbegin',\n    renderFunc.createMarkup(result)\n  );\n}\n\nconst onBtnClick = event => {\n  if (event.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  if (event.target.className === 'button-more') {\n    onGalleryClick(event);\n  }\n  if (event.target.className === 'button-add') {\n    const a = localStorage.getItem(keys.localCoctailsKey);\n    if (a.includes(Number(event.target.id))) {\n      drinksObject.splice(drinksObject.indexOf(Number(event.target.id)), 1);\n      localStorage.setItem('Favorit Coctails', JSON.stringify(drinksObject));\n      console.log(event.target.id);\n\n      renderFavoriteCoctails();\n    } else {\n      getSetLS(Number(event.target.id));\n      renderFavoriteCoctails();\n    }\n  }\n};\n\nfavCoctailsList?.addEventListener('click', onBtnClick);\n"],"names":["$bpxeT","parcelRequire","$87f0ea3fc7aff694$var$favCoctailsList","document","querySelector","$87f0ea3fc7aff694$var$soryCoctail","$87f0ea3fc7aff694$var$drinksObject","$87f0ea3fc7aff694$var$getLocalStorege","savedCoctaisGalery","localStorage","getItem","JSON","parse","$87f0ea3fc7aff694$var$renderFavoriteCoctails","$87f0ea3fc7aff694$var$_renderFavoriteCoctails","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","getFotoByLSID","response","result","innerHTML","map","num","$5g02X","default","fetchCocktailDetailsById","Promise","all","_ctx","sent","param","drinks","flat","insertAdjacentHTML","$5qF9o","createMarkup","$8nrFW","length","addEventListener","event","target","nodeName","className","$keUzR","onGalleryClick","$j5SYg","keys","localCoctailsKey","includes","Number","id","splice","indexOf","setItem","stringify","console","log","$8Hj5P","getSetLS"],"version":3,"file":"favorite-cocktails.433ba6fe.js.map"}
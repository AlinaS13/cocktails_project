{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,0BAGcC,SAASC,cAAc,wBAArC,MACMC,EAAkBF,SAASC,cAAc,mBAEzCE,GADaH,SAASC,cAAc,gBACtBD,SAASC,cAAc,oBAErCG,EACc,mBAIpB,IAAIC,EAAe,GACnB,MAAMC,EAAkB,KACtB,MAAMC,EAAqBC,aAAaC,QAAQL,GAChD,OAAOM,KAAKC,MAAMJ,EAAmB,EAevCK,eAAeC,IACbX,EAAgBY,UAAY,GAE5B,MAAMC,EAAgBT,IAAkBU,KAAIC,GACnCnB,EAAAoB,QAAUC,yBAAyBF,KAItCG,SAFiBC,QAAQC,IAAIP,IAEXC,KAAI,EAACO,OAAEA,KAAaA,IAAQC,KAAK,GACzDtB,GAAiBuB,mBACf,aACAC,EAAAR,QAAWS,aAAaP,G,CAxBxBd,MACFD,EAAe,IAAIC,KAEnBO,EAAuBP,MAMpBA,KAAkD,IAA7BA,IAAkBsB,QAC1CzB,EAAYsB,mBAAmB,aAJxB,uFAqCTvB,GAAiB2B,iBAAiB,SAfdC,IACY,WAA1BA,EAAMC,OAAOC,WAGc,gBAA3BF,EAAMC,OAAOE,YACf,EAAAC,EAAAC,gBAAeL,GAEc,eAA3BA,EAAMC,OAAOE,YACf5B,EAAa+B,OAAO/B,EAAagC,QAAQC,OAAOR,EAAMC,OAAOQ,KAAM,GACnE/B,aAAagC,QAAQpC,EAAuBM,KAAK+B,UAAUpC,IAE3DQ,K","sources":["src/js/localStoregeCoctais.js"],"sourcesContent":["import fetchData from './fetch';\nimport renderFunc from './renderFunc';\nimport { onGalleryClick } from './modal-cocktails';\nconst modal = document.querySelector('.coctail-info-modal ');\nconst favCoctailsList = document.querySelector('.coctails__list');\nconst buttonMore = document.querySelector('.button-more');\nconst soryCoctail = document.querySelector('.coctails-sorry');\n\nconst keys = {\n  localCoctailsKey: 'Favorit Coctails',\n  localIngredientsKey: 'Favorite ingredients',\n  localStorageTheme: 'Theme',\n};\nlet drinksObject = [];\nconst getLocalStorege = () => {\n  const savedCoctaisGalery = localStorage.getItem(keys.localCoctailsKey);\n  return JSON.parse(savedCoctaisGalery);\n};\nif (getLocalStorege()) {\n  drinksObject = [...getLocalStorege()];\n\n  renderFavoriteCoctails(getLocalStorege());\n}\nfunction emptyCoctails() {\n  return `<p class=\"sorry__title-coctails \">You haven't added any favorite cocktails yet</p>`;\n}\n\nif (!getLocalStorege() || getLocalStorege().length === 0) {\n  soryCoctail.insertAdjacentHTML('afterbegin', emptyCoctails());\n}\n\nasync function renderFavoriteCoctails() {\n  favCoctailsList.innerHTML = '';\n\n  const getFotoByLSID = getLocalStorege().map(num => {\n    return fetchData.fetchCocktailDetailsById(num);\n  });\n  const response = await Promise.all(getFotoByLSID);\n \n  const result = response.map(({ drinks }) => drinks).flat(1);\n  favCoctailsList?.insertAdjacentHTML(\n    'afterbegin',\n    renderFunc.createMarkup(result)\n  );\n}\n\nconst onRemoveBtn = event => {\n  if (event.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  if (event.target.className === 'button-more') {\n    onGalleryClick(event);\n  }\n  if (event.target.className === 'button-add') {\n    drinksObject.splice(drinksObject.indexOf(Number(event.target.id)), 1);\n    localStorage.setItem(keys.localCoctailsKey, JSON.stringify(drinksObject));\n\n    renderFavoriteCoctails();\n  }\n};\n\nfavCoctailsList?.addEventListener('click', onRemoveBtn);\n"],"names":["$cyIMT","parcelRequire","document","querySelector","$f0207169a8ed27a0$var$favCoctailsList","$f0207169a8ed27a0$var$soryCoctail","$f0207169a8ed27a0$var$keys","$f0207169a8ed27a0$var$drinksObject","$f0207169a8ed27a0$var$getLocalStorege","savedCoctaisGalery","localStorage","getItem","JSON","parse","async","$f0207169a8ed27a0$var$renderFavoriteCoctails","innerHTML","getFotoByLSID","map","num","default","fetchCocktailDetailsById","result","Promise","all","drinks","flat","insertAdjacentHTML","$6tYD7","createMarkup","length","addEventListener","event","target","nodeName","className","$lJXXB","onGalleryClick","splice","indexOf","Number","id","setItem","stringify"],"version":3,"file":"favorite-cocktails.eef18990.js.map"}
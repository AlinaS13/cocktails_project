{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,oDAOMC,EAAkBC,SAASC,cAAc,mBAGzCC,EAASF,SAASC,cAAc,YAChCE,EACc,mBAIhBC,EAAe,GACbC,EAAkB,WACtB,IAAMC,EAAqBC,aAAaC,QAAQL,GAEhD,OAAOM,KAAKC,MAAMJ,E,WASLK,I,OAAAC,EAAsBC,MAAAC,KAAAC,U,UAAtBH,I,OAAAA,EAAfI,EAAAnB,EAAA,CAAAmB,EAAAC,GAAAC,MAAA,SAAAC,I,IACQC,EAGAC,EAEAC,E,yEALAF,EAAgBf,IAAkBkB,KAAI,SAAAC,GAC1C,OAAOC,EAAAC,QAAUC,yBAAyBH,E,aAErBI,QAAQC,IAAIT,G,OAA7BC,EAAQS,EAAAC,KACdC,QAAQC,IAAIZ,GACNC,EAASD,EAASE,KAAI,SAAAW,G,OAASA,EAANC,M,IAAqBC,KAAK,GACzDrC,EAAgBsC,mBACd,aACAC,EAAAZ,QAAWa,aAAajB,I,4CATST,MAAAC,KAAAC,U,CAcrC,SAASyB,IACPjC,aAAakC,QAAQtC,EAAuBM,KAAKiC,UAAUtC,G,CAtBzDC,MACFD,EAAgBY,EAAA2B,EAAA,CAAGtC,KAEnBM,EAAuBN,MAEzB2B,QAAQC,IAAI7B,GAiDZL,EAAgB6C,iBAAiB,SAbb,SAAAC,GACY,WAA1BA,EAAMC,OAAOC,WAGjBf,QAAQC,IAAIY,EAAMC,OAAOE,IAEzB5C,EAAa6C,OAAO7C,EAAa8C,QAAQC,OAAON,EAAMC,OAAOE,KAAM,GAEnER,IACAzC,EAAgBqD,UAAY,GAC5BzC,I,IAIFT,EAAO0C,iBAAiB,SA9BP,SAAAC,GACfb,QAAQC,IAAIY,EAAMC,OAAOE,IACzB,IAAMxB,EAAM2B,OAAON,EAAMC,OAAOE,IAE5B5C,EAAaiD,SAAS7B,KAG1BC,EAAAC,QACGC,yBAAyBH,GACzB8B,MAAK,SAAAC,G,OAAQvB,QAAQC,IAAI,iBAAkBsB,E,IAC9CnD,EAAaoD,KAAKhC,GAElBzB,EAAgBqD,UAAY,GAC5BZ,IACA7B,EAAuBN,K","sources":["src/js/localStoregeCoctais.js"],"sourcesContent":["import fetchData from './fetch';\nimport renderFunc from './renderFunc';\n//\n// console.log('sasdfdasf');\n// fetchData.fetchCocktailDetailsById(17225).then(res => console.log(res));\n//\n\nconst favCoctailsList = document.querySelector('.coctails__list');\n// const gallary = document.querySelector('.gallary');\n\nconst addBtn = document.querySelector('.add-btn');\nconst keys = {\n  localCoctailsKey: 'Favorit Coctails',\n  localIngredientsKey: 'Favorite ingredients',\n  localStorageTheme: 'Theme',\n};\nlet drinksObject = [];\nconst getLocalStorege = () => {\n  const savedCoctaisGalery = localStorage.getItem(keys.localCoctailsKey);\n\n  return JSON.parse(savedCoctaisGalery);\n};\nif (getLocalStorege()) {\n  drinksObject = [...getLocalStorege()];\n\n  renderFavoriteCoctails(getLocalStorege());\n}\nconsole.log(drinksObject);\n\nasync function renderFavoriteCoctails() {\n  const getFotoByLSID = getLocalStorege().map(num => {\n    return fetchData.fetchCocktailDetailsById(num);\n  });\n  const response = await Promise.all(getFotoByLSID);\n  console.log(response);\n  const result = response.map(({ drinks }) => drinks).flat(1);\n  favCoctailsList.insertAdjacentHTML(\n    'afterbegin',\n    renderFunc.createMarkup(result)\n  );\n}\n// favCoctailsList.insertAdjacentHTML('beforeend', renderContent());\n\nfunction setLS() {\n  localStorage.setItem(keys.localCoctailsKey, JSON.stringify(drinksObject));\n}\n\nconst onAddBtn = event => {\n  console.log(event.target.id);\n  const num = Number(event.target.id);\n\n  if (drinksObject.includes(num)) {\n    return;\n  }\n  fetchData\n    .fetchCocktailDetailsById(num)\n    .then(data => console.log('дата на кнопке', data));\n  drinksObject.push(num);\n\n  favCoctailsList.innerHTML = '';\n  setLS();\n  renderFavoriteCoctails(getLocalStorege());\n};\nconst onRemoveBtn = event => {\n  if (event.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  console.log(event.target.id);\n\n  drinksObject.splice(drinksObject.indexOf(Number(event.target.id)), 1);\n\n  setLS();\n  favCoctailsList.innerHTML = '';\n  renderFavoriteCoctails();\n};\n\nfavCoctailsList.addEventListener('click', onRemoveBtn);\naddBtn.addEventListener('click', onAddBtn);\n"],"names":["$bpxeT","parcelRequire","$0cc2c40f482e8911$var$favCoctailsList","document","querySelector","$0cc2c40f482e8911$var$addBtn","$0cc2c40f482e8911$var$keys","$0cc2c40f482e8911$var$drinksObject","$0cc2c40f482e8911$var$getLocalStorege","savedCoctaisGalery","localStorage","getItem","JSON","parse","$0cc2c40f482e8911$var$renderFavoriteCoctails","$0cc2c40f482e8911$var$_renderFavoriteCoctails","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","getFotoByLSID","response","result","map","num","$5g02X","default","fetchCocktailDetailsById","Promise","all","_ctx","sent","console","log","param","drinks","flat","insertAdjacentHTML","$5qF9o","createMarkup","$0cc2c40f482e8911$var$setLS","setItem","stringify","$8nrFW","addEventListener","event","target","nodeName","id","splice","indexOf","Number","innerHTML","includes","then","data","push"],"version":3,"file":"favorite-cocktails.de78c721.js.map"}